<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Software Architecture of UAVA</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="history/index.html"><strong aria-hidden="true">2.</strong> History</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="history/about.html"><strong aria-hidden="true">2.1.</strong> About the Competition</a></li><li class="chapter-item expanded "><a href="history/org.html"><strong aria-hidden="true">2.2.</strong> About the Organization</a></li><li class="chapter-item expanded "><a href="history/timeline.html"><strong aria-hidden="true">2.3.</strong> Timeline</a></li></ol></li><li class="chapter-item expanded "><a href="stack/index.html"><strong aria-hidden="true">3.</strong> Stack</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="stack/diagram.html"><strong aria-hidden="true">3.1.</strong> Stack Diagram</a></li><li class="chapter-item expanded "><a href="stack/orchestra.html"><strong aria-hidden="true">3.2.</strong> Orchestra</a></li><li class="chapter-item expanded "><a href="stack/pathfinder.html"><strong aria-hidden="true">3.3.</strong> Pathfinder</a></li><li class="chapter-item expanded "><a href="stack/image-rec.html"><strong aria-hidden="true">3.4.</strong> Image Recognition</a></li><li class="chapter-item expanded "><a href="stack/deprecated.html"><strong aria-hidden="true">3.5.</strong> Deprecated Services</a></li></ol></li><li class="chapter-item expanded "><a href="hardware/hardware.html"><strong aria-hidden="true">4.</strong> The Hardware of Software</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="hardware/hardware-diagram.html"><strong aria-hidden="true">4.1.</strong> Hardware Diagram</a></li></ol></li><li class="chapter-item expanded "><a href="passwords.html"><strong aria-hidden="true">5.</strong> Passwords</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The Software Architecture of UAVA</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<p>Welcome to UAV Austin's architecture guide and (occassionally) history book.</p>
<p>This guide is intended to familiarize you with the workings of the software team, its interactions with the hardware team, and the current implemented architecture of the software stack.</p>
<p>Note that this book will <em>always</em> be a work-in-progress. If you have implemented new parts of the architecture that you are ready to document, or have new history to record, do not be afraid to edit the docs.</p>
<p>Check out our 2019 <a href="https://docs.google.com/document/d/1cukH_5obn0dbvtqm8swrvJMw136q-smBsOf-7hlikVU/edit?usp=sharing">Technical Paper</a> for a really in-depth, wholistic look at the architecture of our plane.</p>
<p>Select an item on the left to continue.</p>
<h1><a class="header" href="#about-the-competition" id="about-the-competition">About the Competition</a></h1>
<p>The main purpose of UAV Austin is to compete in the <a href="https://auvsi-suas.org">Student Unmanned Aerial Systems Competition</a>, which is run by the Seafarer Chapter of the Association for Unmanned Vehicle Systems International. Otherwise known as the AUVSI SUAS competition, the competition is held yearly at Webster Field in St. Inigoes, MD.</p>
<p>While the competition in itself is rather brief and the organization consistently makes a net loss, the University continues to fund the organization because of its intrinsic educational value. Systems engineering is a multidisciplinary field that is not rigorously taught in formal courses, so the Aerospace Engineering department funds UAV Austin to provide an extracurricular, hands-on approach to learning systems engineering.</p>
<p>The full history of UAV Austin is unknown, as the original senior members have since left. The only person who has assisted UAVA from its conception in 2006 has been Mark Maughmer II, the designated safety pilot who is also a staff member for the Aerospace Engineering department.</p>
<p>The goal of SUAS is to present to judges an unmanned aerial system (UAS) that can safely perform the following objectives:</p>
<ul>
<li>Fly autonomously through a given set of waypoints</li>
<li>Avoid virtual obstacles</li>
<li>Locate and recognize objects on the ground</li>
<li>Deliver a payload</li>
</ul>
<p>Teams are subranked based on their technical paper, &quot;flight readiness review&quot; (a 10-minute video), and mission. Their ranking in each of these categories determines the prize money allotted to them, which can exceed $6,000.</p>
<p>SUAS is a systems engineering competition. It is only tangentially related to aerospace engineering in that it requires the construction of an aircraft, but it could otherwise be any vehicle.</p>
<p>As such, many teams opt to fly kit planes, quadcopters, and hexacopters, instead of manufacturing their own aircraft. However, we create our own aircraft because aerospace engineering is the specialty of our department, and we also wish to give members experience in computer-aided design and manufacturing.</p>
<p>The most important part of the UAS is arguably the software, as the software ultimately provides the autonomy of the aircraft and the ability to complete the mission objectives for prize money. The importance of software is so prominent that the competition host, Phillip Tischler, is a senior software engineer at Google.</p>
<hr />
<p><em>This page was derived from the HackMD document</em> <a href="https://hackmd.io/bzfxlPXtTHemOK_KhwLzRw">An Overview of UAV Austin</a>.</p>
<h1><a class="header" href="#about-the-organization" id="about-the-organization">About the Organization</a></h1>
<h2><a class="header" href="#what-we-do" id="what-we-do">What We Do</a></h2>
<ul>
<li>We build a fixed-wing aircraft.</li>
<li>We add hardware to the aircraft so that it can fly autonomously, take pictures, and communicate with a ground station.</li>
<li>We write software that assists with recognizing images and reporting telemetry data to the competition server.</li>
<li>We meet for 5 hours a week.</li>
<li>We have regular socials, if that isn't enough.</li>
<li>We test the UAS once a month.</li>
<li>We write a paper about the UAS.</li>
<li>We record a video about the UAS.</li>
<li>We take the UAS to Maryland in June for a demonstration.</li>
</ul>
<h2><a class="header" href="#what-we-dont-do" id="what-we-dont-do">What We Don't Do</a></h2>
<ul>
<li>We do not build quadcopters, hexacopters, or anything that ends with &quot;-copter.&quot;</li>
<li>We do not write our own autopilot software; instead, we use the well-tested <a href="https://github.com/ArduPilot/ardupilot">ArduPilot</a> firmware.</li>
<li>We do not allow just anyone to fly the plane: only the selected ground station operator and safety pilot can fly the plane. (If you are looking to free fly, you might be interested in Design/Build/Fly.)</li>
<li>We do not fly the plane for any purpose other than the AUVSI SUAS competition.</li>
</ul>
<h2><a class="header" href="#governance-model" id="governance-model">Governance Model</a></h2>
<p>In May 2019, a <a href="https://github.com/uavaustin/governance">constitution</a> was passed to facilitate a formal transfer of power from the large number of graduating seniors to the next leadership.</p>
<p>The constitution was fast-tracked due to a new requirement by the Office of the Dean of Students to submit a constitution; however, subsequent bylaws that affirm the constitution's authority have not been passed. One such important bylaw is the collection of dues.</p>
<h2><a class="header" href="#meetings" id="meetings">Meetings</a></h2>
<p>Hardware meetings have typically been held in the computer lab of the Aerospace Department, while software meetings take up a classroom in the same building. Software meets twice a week totaling 5 hours a week, while hardware meets thrice a week totaling 9 hours a week.</p>
<p>Software meetings have usually been Sundays and Thursdays; however, since the destruction of the WRW building, it has been significantly more difficult to find classrooms.</p>
<p>Software and hardware leads are charged with taking care of attendance, which is instrumental for understanding member turnover. It is often the case that members vanish about five weeks into the semester without notice.</p>
<h3><a class="header" href="#camp" id="camp">Camp</a></h3>
<p>At the beginning of the year, there is typically a &quot;camp&quot; for both hardware and software members to discern their preference and determine whether or not they have the time commitment to continue. During this period, software meets three times a week, usually in separate classrooms to minimize distractions between teams.</p>
<p>The camp lasts three weeks, sometimes coinciding with the opening of registration for SUAS.</p>
<hr />
<p><em>This page was derived from the HackMD document</em> <a href="https://hackmd.io/bzfxlPXtTHemOK_KhwLzRw">An Overview of UAV Austin</a>.</p>
<h1><a class="header" href="#timeline" id="timeline">Timeline</a></h1>
<p>This section is divided into hardware and software, in alignment with the historical division of the hardware and software teams. Other known competition history is documented below.</p>
<h2><a class="header" href="#hardware-history" id="hardware-history">Hardware History</a></h2>
<h3><a class="header" href="#phoenix-2009" id="phoenix-2009"><em>Phoenix</em> (2009)</a></h3>
<p><em>Phoenix</em> was derived from the Senior Telemaster, a tail-dragger kit plane with a 11.5cc engine. It was the UAV Group's first aircraft entered into the AUVSI SUAS competition.</p>
<h3><a class="header" href="#phoenix-ii-2010-2012" id="phoenix-ii-2010-2012"><em>Phoenix II</em> (2010-2012)</a></h3>
<p><em>Phoenix II</em> was a custom-built aircraft using carbon/Kevlar composites.
See the <a href="http://www.auvsi-suas.org/static/competitions/2010/journals/auvsi_suas-2010-journals-university_of_texas_austin.pdf">2010 paper</a> for more information.</p>
<h3><a class="header" href="#kratos-2014" id="kratos-2014"><em>Kratos</em> (2014)</a></h3>
<p><em>Kratos</em> was a high-wing plane derived from the Sig Kadet Senior kit plane. 
(UAV Austin did not compete in 2013 - this was essentially a reboot of the &quot;UT Unmanned Aerial Vehicle Group&quot; with new members.)</p>
<h3><a class="header" href="#darth-bevo-2015-2016" id="darth-bevo-2015-2016"><em>Darth Bevo</em> (2015-2016)</a></h3>
<p>&quot;It was awful.&quot; -- Bradley Bridges, probably</p>
<p><em>Darth Bevo</em> was a rebuilt version of <em>Kratos</em>, as <em>Kratos</em> had been heavily modified to the point of unmaintainability.</p>
<h3><a class="header" href="#hugin-ii-2017" id="hugin-ii-2017"><em>Hugin II</em> (2017)</a></h3>
<p><em>Hugin II</em> was a standard pusher design derived from a kit plane of the same name.</p>
<h3><a class="header" href="#sir-vay-lance-svl-2018" id="sir-vay-lance-svl-2018"><em>Sir-Vay-Lance (SVL)</em> (2018)</a></h3>
<p><em>SVL</em> was a pusher plane based on the heavily modified <em>Hugin II</em>. While its flight profile and maneuverability were satisfactory, its setup time and decline into disrepair rendered it unusable for the long term. (However, it still makes for a decent trainer.)</p>
<h3><a class="header" href="#phoenix-iii-2019" id="phoenix-iii-2019"><em>Phoenix III</em> (2019)</a></h3>
<p>A polished boom-prop design made as a work of passion by Evan Wilde, <em>Phoenix III</em> is anticipated to meet the design needs of UAV Austin for the distant future.</p>
<h2><a class="header" href="#software-history" id="software-history">Software History</a></h2>
<h3><a class="header" href="#unnamed-systems-the-past" id="unnamed-systems-the-past">Unnamed systems (the past)</a></h3>
<p>Due to a rapidly-changing software environment, the software stack was in constant flux. While image recognition was always an attempted mission objective, its effectiveness could never be proven in flight. Image recognition software ranged from the NI Vision Development Module (via LabVIEW) to OpenCV.</p>
<h3><a class="header" href="#matlab--2017" id="matlab--2017">MATLAB (?-2017)</a></h3>
<p>Most calculations depended on a set of MATLAB scripts.</p>
<h3><a class="header" href="#orchestra-2017-" id="orchestra-2017-">Orchestra (2017-)</a></h3>
<p>With the work of Bradley Bridges, the entire software stack was rewritten to use containerized microservices that communicate with each other. By 2018, there were microservices written in Elixir, Node.js, Python, and Rust, all performing different tasks.</p>
<h2><a class="header" href="#competition-history" id="competition-history">Competition History</a></h2>
<h3><a class="header" href="#2017" id="2017">2017</a></h3>
<p>The Flight Readiness Review was changed from an in-person presentation to a 15-minute video.</p>
<h3><a class="header" href="#2019" id="2019">2019</a></h3>
<p>The water bottle drop was changed to an unmanned ground vehicle (UGV) drop.</p>
<p>Tischler added a &quot;mission ID&quot; header requirement in anticipation of allowing multiple planes to fly simultaneously. This major change to the interop server was only made two months before the competition.</p>
<p>Waypoints were no longer provided at the opening banquet; instead, they were provided at mission setup time.</p>
<h3><a class="header" href="#2020" id="2020">2020</a></h3>
<p>Judges no longer require a dedicated monitor to see what is going on.</p>
<p>The FRR's length was reduced from 15 minutes to 10. The maximum length of the tech paper was also cut.</p>
<p>Two aircraft will be flown simultaneously.</p>
<hr />
<p><em>This page was derived from the HackMD document</em> <a href="https://hackmd.io/bzfxlPXtTHemOK_KhwLzRw">An Overview of UAV Austin</a>.</p>
<h1><a class="header" href="#software-stack" id="software-stack">Software Stack</a></h1>
<p>This section of the document serves mainly to discuss the present-day software stack, specifically at the time that Bradley left it. It is mostly from my (Bennett's) subjective point of view.</p>
<p>But first, a word about Bradley. Aside from religious beliefs such as the choice of text editor and indentation, he had a reason for even seemingly small details. And unlike most software members, he also had copious amounts of free time to spare for working on UAVA code. This was his passion project, and he was willing to experiment injecting industry-standard practices into the project. I do not expect anyone to have anywhere near the amount of time as he did to sink into the software stack.</p>
<p>Despite this, Bradley will not haunt you in your sleep if you change his code. Simply be conscious about what you are trying to do.</p>
<hr />
<p><em>This page was derived from the HackMD document</em> <a href="https://hackmd.io/bzfxlPXtTHemOK_KhwLzRw">An Overview of UAV Austin</a>.</p>
<p>Our third and final plug, reading our 2019 <a href="https://docs.google.com/document/d/1cukH_5obn0dbvtqm8swrvJMw136q-smBsOf-7hlikVU/edit?usp=sharing">Technical Paper</a> is a wonderful introduction to the plane!</p>
<h1><a class="header" href="#software-stack-diagram" id="software-stack-diagram">Software Stack Diagram</a></h1>
<p>Attached below is a flowchart of all the active services and how they interact with each other. Clarification on the function of each service can be found below, as well on the README of each service's github page. </p>
<p><img src="stack/../img/UAVStackDiagram.png" alt="Diagram" /></p>
<h1><a class="header" href="#orchestra" id="orchestra">Orchestra</a></h1>
<p><a href="https://github.com/uavaustin/orchestra">Orchestra</a> is a group of Docker Compose-managed services that perform specific facilities for plane-ground communications. Services communicate with each other through <a href="https://developers.google.com/protocol-buffers">Protocol Buffers</a> over HTTP. Services can also communicate through <a href="https://www.json.org/json-en.html">JSON</a> by changing the Accept/Content-Type header to 'application/json'.</p>
<h2><a class="header" href="#services" id="services">Services</a></h2>
<p>Services are sorted in order of dependency; more critical services go first.</p>
<h3><a class="header" href="#interop-proxy" id="interop-proxy">Interop Proxy</a></h3>
<p>Wraps the SUAS interoperability server (the &quot;interop&quot;) with a more consistent interface that can be accessed by other services. Login state to interop is saved.</p>
<p><em>Languages/Tools</em>: <a href="https://elixir-lang.org">Elixir</a>, <a href="https://phoenixframework.org">Phoenix</a></p>
<h3><a class="header" href="#mavproxy" id="mavproxy">MAVProxy</a></h3>
<p>Present on both aircraft and ground station. Allows for communication between Telemetry, Mission Planner, and the aircraft. Communicates through an exposed UDP socket.</p>
<p><em>Languages/Tools</em>: <a href="https://github.com/ArduPilot/MAVProxy">MAVProxy</a></p>
<h3><a class="header" href="#telemetry" id="telemetry">Telemetry</a></h3>
<p>Present on both aircraft and ground station. On the ground, receives telemetry information to be sent to interop (yaw, lat, lon, alt), sends/receives mission data (waypoints), and supplies vital information about the aircraft (GPS, battery, speed, velocity) to the ground station. Communicates with MAVProxy through the MavLINK protocol via UDP.</p>
<p><em>Languages/Tools</em>: Javascript, <a href="https://nodejs.org/en/">Node.JS</a>, <a href="https://jestjs.io/">Jest</a></p>
<h3><a class="header" href="#forward-interop" id="forward-interop">Forward Interop</a></h3>
<p>Forwards telemetry data to Interop Proxy and keeps track of the upload rate, both unique and raw telemetry.</p>
<p><em>Languages/Tools</em>: Javascript, <a href="https://nodejs.org/en/">Node.JS</a>, <a href="https://jestjs.io/">Jest</a> </p>
<h3><a class="header" href="#imagery" id="imagery">Imagery</a></h3>
<p>Present on both aircraft and ground station. Aircraft uses the Z Camera E1 backend, ground uses the sync backend (still a work in progress), and testing uses the file backend. Service captures photos on a specified interval and saves the pictures, telemetry metadata and the assigned ID into a database.</p>
<p><em>Languages/Tools</em>: Javascript, <a href="https://nodejs.org/en/">Node.JS</a>, <a href="https://www.sqlite.org/index.html">SQLite</a>, <a href="https://jestjs.io/">Jest</a></p>
<h3><a class="header" href="#image-rec-master" id="image-rec-master">Image Rec Master</a></h3>
<p>Takes in photos (IDs) from imagery and passes them through a pipeline where they are processed (manual or auto), discarded, or submitted into a separate target pipeline. The target pipeline can submit ODLCs to the interop-proxy server or remove targets submitted to the interop server.</p>
<p><em>Languages/Tools</em>: Python, <a href="https://redis.io/">Redis</a></p>
<h3><a class="header" href="#pong" id="pong">Pong</a></h3>
<p>Pings all the other services (and specified devices via ICMP ping) to check on their health.</p>
<p><em>Languages/Tools</em>: Javascript, <a href="https://nodejs.org/en/">Node.JS</a>, <a href="https://jestjs.io/">Jest</a></p>
<h3><a class="header" href="#lumberjack" id="lumberjack">Lumberjack</a></h3>
<p><strong>[In Development]</strong> Logs data from other services into a time-series database (InfluxDB). Currently shows service ping from Pong, upload rate from Forward Interop, and the status of Telemetry on plane and ground.</p>
<p><em>Languages/Tools</em>: Javascript, <a href="https://nodejs.org/en/">Node.JS</a>, <a href="https://jestjs.io/">Jest</a>, <a href="https://www.influxdata.com/">InfluxDB</a></p>
<h3><a class="header" href="#grafana" id="grafana">Grafana</a></h3>
<p><strong>[In Development]</strong> real time dashboard visualization of data being collected in Lumberjack.</p>
<p><em>Languages/Tools</em>: <a href="https://grafana.com/">Grafana</a></p>
<h3><a class="header" href="#dashboard" id="dashboard">Dashboard</a></h3>
<p><strong>[Deprecated]</strong> text-based dashboard that shows telemetry upload rates and the statuses of other services.</p>
<p><em>Languages/Tools</em>: Javascript, <a href="https://nodejs.org/en/">Node.JS</a>, <a href="https://jestjs.io/">Jest</a></p>
<h2><a class="header" href="#language-choice" id="language-choice">Language Choice</a></h2>
<p>Services that are too critical to tolerate failure were written in Elixir. The only exception is Telemetry, which was written in Node.js due to the complexity in communicating over the MAVLink protocol.</p>
<p>When Orchestra was being developed, there was a brief discussion over which language to use. Originally, Rust was to be used for Telemetry; however, after staring at the sixty lines of Rust that took me three weeks to write, it was decided that Rust had perhaps too steep of a learning curve to start such a complicated project as Telemetry.</p>
<p>Another contender was Python. There were few issues with Python, although dependencies tended to run large, and there may have been perhaps a desire to move toward functional programming, which JavaScript was beginning to support. And since we were intending to make HTTP-based microservices, Node.js seemed to fit the bill from its proven web performance.</p>
<hr />
<p><em>This page was derived from the HackMD document</em> <a href="https://hackmd.io/bzfxlPXtTHemOK_KhwLzRw">An Overview of UAV Austin</a>.</p>
<h1><a class="header" href="#pathfinder" id="pathfinder">Pathfinder</a></h1>
<p>The name of the team that works on the pathfinder is called &quot;autopilot,&quot; which is somewhat of a misnomer. The real autopilot is ArduPilot, which runs inside a Pixhawk. The pathfinder's sole job is to reroute waypoints to avoid obstacles reported by the interop server.</p>
<hr />
<p><em>This page was derived from the HackMD document</em> <a href="https://hackmd.io/bzfxlPXtTHemOK_KhwLzRw">An Overview of UAV Austin</a>.</p>
<h1><a class="header" href="#image-recognition" id="image-recognition">Image Recognition</a></h1>
<h2><a class="header" href="#code" id="code">Code</a></h2>
<h3><a class="header" href="#target-finder" id="target-finder">Target Finder</a></h3>
<p><a href="https://github.com/uavaustin/target-finder">GitHub</a></p>
<ul>
<li>Training, tuning, and optimizing models</li>
<li>Misc recognition experiments</li>
<li>Processing and generating image data</li>
<li>Python3, OpenCV, TensorFlow</li>
</ul>
<h3><a class="header" href="#target-finder-model" id="target-finder-model">Target Finder Model</a></h3>
<p><a href="https://github.com/uavaustin/target-finder-model">GitHub</a></p>
<ul>
<li>Pre-processing for actual image data</li>
<li>An <a href="https://blogs.nvidia.com/blog/2016/08/22/difference-deep-learning-training-inference-ai/">inference-only</a> interface for running images </li>
<li>An API for the <a href="http://docs.uavaustin.org/guides/architecture/stack/orchestra.html">Orchestra</a> Image Rec service to use</li>
<li>Python3, TensorFlow, TensorRT</li>
</ul>
<h2><a class="header" href="#history" id="history">History</a></h2>
<h3><a class="header" href="#---spring-2018" id="---spring-2018">? - Spring 2018</a></h3>
<p>A collections of <a href="https://github.com/uavaustin/Image-Recognition">scripts</a> written in MATLAB and Python which use a variety of techniques to classify target images. </p>
<ul>
<li>Targets found with <a href="https://en.wikipedia.org/wiki/Canny_edge_detector">Canny edge detection</a></li>
<li>Shapes classified via <a href="https://www.tensorflow.org/">TensorFlow</a></li>
<li>Characters found with <a href="https://pypi.org/project/pytesseract/">Tesseract</a></li>
<li>Trained on a minimal artificially generated training data</li>
<li>Inference speed: Very Fast</li>
</ul>
<h3><a class="header" href="#fall-2018---spring-2019" id="fall-2018---spring-2019">Fall 2018 - Spring 2019</a></h3>
<p>Using <a href="https://towardsdatascience.com/object-detection-simplified-e07aa3830954">Object Detection</a> to find and classify targets. Mainly based on <a href="https://pjreddie.com/darknet/">Darknet</a> model implementations.</p>
<ul>
<li>Shapes and characters found simultaneously with <a href="https://pjreddie.com/darknet/yolo/">YOLOv3</a> </li>
<li>A small convolutional classifier is used to narrow down where shapes might be</li>
<li>Primary colors found by clustering RGB values</li>
<li>Trained on a significant amount of near-realistic semi-artificial training data</li>
<li>Inference speed: Slow</li>
</ul>
<h3><a class="header" href="#fall-2019---current" id="fall-2019---current">Fall 2019 - Current</a></h3>
<p>Replaced Darknet with TensorFlow and <a href="https://developer.nvidia.com/tensorrt">TensorRT</a>. </p>
<ul>
<li>Interchangeable models (although primarily <a href="https://arxiv.org/abs/1506.01497">FasterRCNN</a>)</li>
<li>Hardware-specific model optimization</li>
<li>Inference speed: Fast, thanks to a <a href="https://developer.nvidia.com/embedded/jetson-agx-xavier-developer-kit">Jetson Xavier</a></li>
</ul>
<h1><a class="header" href="#deprecated-services" id="deprecated-services">Deprecated Services</a></h1>
<h2><a class="header" href="#dashboard-orchestra" id="dashboard-orchestra">Dashboard (Orchestra)</a></h2>
<p>This was a command-line interface intended to show the health of various Orchestra services in a full-screen, text-based environment. However, it did not prove to be very useful and was scrapped in favor of Grafana.</p>
<h2><a class="header" href="#flight-view" id="flight-view">Flight View</a></h2>
<p>This was a frontend project to simplify details about the aircraft in one screen. After three major refactors, Flight View was finally scrapped.</p>
<p>However, a frontend is important for manual image recognition and to understand the status of the aircraft, critical services, and the interop without needing to plug into Mission Planner.</p>
<h1><a class="header" href="#the-hardware-of-software" id="the-hardware-of-software">The Hardware of Software</a></h1>
<p>Despite boasting a $0 budget, we do suffer expenditures from time to time, like having to give the software members some pizza from time to time so they get cracking. We also buy chips, although they tend not to be edible.
Several flavors of chips we have purchased are described below, in order of succession.</p>
<h2><a class="header" href="#aircraft-hardware" id="aircraft-hardware">Aircraft Hardware</a></h2>
<h3><a class="header" href="#on-board-computer" id="on-board-computer">On-Board Computer</a></h3>
<ul>
<li>Raspberry Pi 2 (although the one we used was technically Rahul's - shhh!)
<ul>
<li>We've had a couple burn out -- that's why we don't recommend them anymore.</li>
</ul>
</li>
<li>Raspberry Pi Zero
<ul>
<li>It doesn't support Docker very well. Mostly garbage.</li>
</ul>
</li>
<li>ODROID
<ul>
<li>A cheap Korean knockoff of the Raspberry Pi. (I mean, it's not <em>really</em> a knockoff, but it's easier to describe it as if it were.)</li>
</ul>
</li>
<li>NVIDIA Jetson TX2
<ul>
<li>On-board; intended to be a high-performance replacement to the above.</li>
</ul>
</li>
<li>NVIDIA Jetson AGX Xavier
<ul>
<li>The successor to the TX2.</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#camera" id="camera">Camera</a></h3>
<ul>
<li>Sony α6000
<ul>
<li>We thought it was a good idea, because other teams used this camera. It wasn't.</li>
</ul>
</li>
<li>Z-CAM E1
<ul>
<li>A fast block camera with an esoteric HTTP API that embeds error codes inside JSON objects (with no content-type, mind you) instead of using HTTP error codes like any decent API</li>
<li>It also gets really hot and has a known 10% chance of catching on fire.
<ul>
<li>I'm just kidding. We don't know about any battery fires from this camera.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#ground-hardware" id="ground-hardware">Ground Hardware</a></h2>
<ul>
<li>A weirdly specced ASRock server rack</li>
<li>Consumer-grade router</li>
<li>Rocket AC
<ul>
<li>A long-range 802.11ac transceiver.</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#naming-convention" id="naming-convention">Naming Convention</a></h2>
<p>These devices tend to be named after characters in <em>The Office</em>. Please continue the tradition so that Bradley can feel proud.</p>
<p>Also, please remind <abbr title="Power and Electronics">P&amp;E</abbr> not to make an unholy mess with the wiring, as they always do.</p>
<hr />
<p><em>This page was derived from the HackMD document</em> <a href="https://hackmd.io/bzfxlPXtTHemOK_KhwLzRw">An Overview of UAV Austin</a>.</p>
<h1><a class="header" href="#hardware-of-software-diagram" id="hardware-of-software-diagram">Hardware of Software Diagram</a></h1>
<p>Here's a visual of the hardware that the software team directly interacts with!</p>
<p><img src="hardware/../img/HardwareDiagram.png" alt="Diagram" /></p>
<h1><a class="header" href="#passwords" id="passwords">Passwords</a></h1>
<p>This section contains passwords to access internal hardware. Since password-protecting our hardware is not done for many other reasons than to not lose points in the competition for insecurity, they are posted here for convenience and to avoid confusion.</p>
<p>This section to be filled in later. Probably never.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        
        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-105339892-2', 'auto');
                ga('send', 'pageview');
            }
        </script>
        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
        
        

    </body>
</html>
