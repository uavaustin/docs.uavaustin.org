<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Objects and Classes - UAV Austin Node.js Guide</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="getting-started/index.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="getting-started/installation.html"><strong aria-hidden="true">2.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="getting-started/hello-world.html"><strong aria-hidden="true">2.2.</strong> Hello World</a></li><li class="chapter-item expanded "><a href="getting-started/resources.html"><strong aria-hidden="true">2.3.</strong> Resources</a></li></ol></li><li class="chapter-item expanded "><a href="the-basics/index.html"><strong aria-hidden="true">3.</strong> The Basics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the-basics/comments.html"><strong aria-hidden="true">3.1.</strong> Comments</a></li><li class="chapter-item expanded "><a href="the-basics/data-types-and-variables.html"><strong aria-hidden="true">3.2.</strong> Data Types and Variables</a></li><li class="chapter-item expanded "><a href="the-basics/operators.html"><strong aria-hidden="true">3.3.</strong> Operators</a></li><li class="chapter-item expanded "><a href="the-basics/control-flow.html"><strong aria-hidden="true">3.4.</strong> Control Flow</a></li><li class="chapter-item expanded "><a href="the-basics/functions.html"><strong aria-hidden="true">3.5.</strong> Functions</a></li></ol></li><li class="chapter-item expanded "><a href="modules.html"><strong aria-hidden="true">4.</strong> Modules</a></li><li class="chapter-item expanded "><a href="objects-and-classes.html" class="active"><strong aria-hidden="true">5.</strong> Objects and Classes</a></li><li class="chapter-item expanded "><a href="functional-programming.html"><strong aria-hidden="true">6.</strong> Functional Programming</a></li><li class="chapter-item expanded "><a href="async-patterns/index.html"><strong aria-hidden="true">7.</strong> Async Patterns</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="async-patterns/callbacks.html"><strong aria-hidden="true">7.1.</strong> Callbacks</a></li><li class="chapter-item expanded "><a href="async-patterns/promises.html"><strong aria-hidden="true">7.2.</strong> Promises</a></li><li class="chapter-item expanded "><a href="async-patterns/async-await.html"><strong aria-hidden="true">7.3.</strong> Async/Await</a></li><li class="chapter-item expanded "><a href="async-patterns/event-emitters.html"><strong aria-hidden="true">7.4.</strong> Event Emitters</a></li></ol></li><li class="chapter-item expanded "><a href="npm.html"><strong aria-hidden="true">8.</strong> NPM</a></li><li class="chapter-item expanded "><a href="babel.html"><strong aria-hidden="true">9.</strong> Babel</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">UAV Austin Node.js Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#objects-and-classes" id="objects-and-classes">Objects and Classes</a></h1>
<p>An object in JavaScript can be perceived as a map from a string to a primitive,
a function, or another object (see <a href="http://docs.uavaustin.org/guides/nodejs/the-basics/data-types-and-variables.html#objects">&quot;Objects&quot; in 3.2</a>).</p>
<p>We know the basic syntax for creating an object:</p>
<pre><code class="language-js">// A loud dog
let dog = {
  volume: 2
};
</code></pre>
<p>But we can also place a function inside an object and call it:</p>
<pre><code class="language-js">let dog = {
  volume: 2,
  bark: function () {
    console.log('Bark!');
  }
};

dog.bark(); // Bark!
</code></pre>
<p>Now <code>dog</code> is acting more like a class. But what if we want to get a property
inside <code>dog</code> and use it in <code>bark</code>?</p>
<pre><code class="language-js">let dog = {
  volume: 2,
  bark: function () {
    console.log('Bark! Volume: ' + volume);
  }
};

dog.bark(); // ReferenceError: volume is not defined
</code></pre>
<p>This will not workâ€”the interpreter thinks that we are trying to reference
a variable called <code>volume</code>. But in reality, we wish to reference
the property <code>volume</code> inside the object <code>dog</code>.</p>
<p>We could try this instead:</p>
<pre><code class="language-js">let dog = {
  volume: 2,
  bark: function (dog) {
    console.log('Bark! Volume: ' + dog.volume);
  }
};

dog.bark(dog); // Bark! Volume: 2
</code></pre>
<p>This prints the result that we expected, but note that we referenced <code>dog</code>
twice on the function call. We want to make <code>dog.bark</code> act more like a class
method that can access the property of the object it belongs to.</p>
<pre><code class="language-js">let dog = {
  volume: 2,
  bark: function () {
    console.log('Bark! Volume: ' + this.volume);
  }
};

dog.bark(); // Bark! Volume: 2
</code></pre>
<p>When we call a function inside of an object in this way, we modify a special
variable called <code>this</code>, which is intended to refer to the currently scoped
object, very much akin to Java. In this case, <code>this</code> has been assigned to
<code>dog</code>.</p>
<h2><a class="header" href="#classes-using-prototypes" id="classes-using-prototypes">Classes using prototypes</a></h2>
<p>We wish to make <code>dog</code> into a real class named <code>Dog</code> that can be created using
a constructor, so that we can make many instances of <code>Dog</code> that we can call
<code>bark</code> on.</p>
<pre><code class="language-js">function Dog(volume) {
  this.volume = volume;
};

Dog.prototype.bark = function () {
  console.log('Bark! Volume: ' + this.volume);
};

let dog = new Dog(2);
dog.bark(); // Bark! Volume: 2
</code></pre>
<p>Notice two keywords here: <code>prototype</code> and <code>new</code>. When we call <code>new</code>, the <code>this</code>
keyword is assigned to an empty object (<code>{}</code>), with a special exception: everything
from <code>Dog.prototype</code> is copied over to the empty object. When the function call
finishes, <code>this</code> is used as the return value and is ultimately assigned to <code>dog</code>.</p>
<p>For future reference, when class method is mentioned using <code>prototype</code>, we mean
that the class method is not static - i.e. the method must be called from an
instance of the class.</p>
<h2><a class="header" href="#classes-using-es6-syntax" id="classes-using-es6-syntax">Classes using ES6 syntax</a></h2>
<p>Since ECMAScript 6 (officially known as ECMAScript 2015, or ES2015), a more
comfortable syntax has been developed for classes:</p>
<pre><code class="language-js">class Dog {
  constructor(volume) {
    this.volume = volume;
  }

  bark() {
    console.log('Bark! Volume: ' + this.volume);
  }
}

let dog = new Dog(2);
dog.bark(); // Bark! Volume: 2
</code></pre>
<p>ES6 classes also allow us to define static methods by prepending the
function with <code>static</code>. Static methods do not require an instance
of the object to be created before calling the method.</p>
<h3><a class="header" href="#getters-and-setters" id="getters-and-setters">Getters and setters</a></h3>
<p>Prefixing a class method with <code>get</code> or <code>set</code> allows it to be accessed as if it
were a property:</p>
<pre><code class="language-js">class Foo {
  constructor() {
    this._bar = 1;
  }

  get bar() {
    return this._bar;
  }

  set bar(value) {
    if (typeof value !== 'number') {
      throw new TypeError('value must be a number');
    }

    this._bar = value;
  }
}

let foo = new Foo();
console.log(foo.bar); // 1
foo.bar = 3;
console.log(foo.bar); // 3
foo.bar = 'test'; // TypeError: value must be a number
</code></pre>
<h3><a class="header" href="#inheritance" id="inheritance">Inheritance</a></h3>
<p>It is also possible to inherit classes using the <code>extends</code> operator in ES6.
Inheritance causes us to <em>inherit</em> the methods from the class we wish to inherit
from (the <em>superclass</em>). We call the superclass's constructor by calling
<code>super()</code> at the beginning of our class's constructor.</p>
<h2><a class="header" href="#tricks" id="tricks">Tricks</a></h2>
<h3><a class="header" href="#objectassign" id="objectassign"><code>Object.assign</code></a></h3>
<p>Suppose we wanted to copy all of the properties of object <code>foo</code> onto object <code>bar</code>.
We could do the following:</p>
<pre><code class="language-js">let bar = {
  text: 'baz'
};

bar.a = foo.a;
bar.b = foo.b;
bar.c = foo.c;
</code></pre>
<p>This requires us to know ahead of time the properties that <code>foo</code> has and then copy
each property one by one. This is very tedious if we have dozens of properties in the
object that we wish to copy. Instead, we can use <code>Object.assign</code>:</p>
<pre><code class="language-js">let bar = {
  text: 'baz'
};

Object.assign(bar, foo);
</code></pre>
<p>Now <code>bar</code> contains <code>text</code>, along with whatever properties <code>foo</code> might have.</p>
<h3><a class="header" href="#spread-syntax" id="spread-syntax">Spread syntax</a></h3>
<p>Since ECMAScript 2018, it is also possible to merge objects together without
the use of <code>Object.assign</code>:</p>
<pre><code class="language-js">let baz = {
  ...foo,
  ...bar
};
</code></pre>
<p>It is also possible to replace this syntax:</p>
<pre><code class="language-js">let x = 2;
let y = 3;
let z = 4;
let coords = { x: x, y: y, z: z };
</code></pre>
<p>with the following:</p>
<pre><code class="language-js">let x = 2;
let y = 3;
let z = 4;
let coords = { x, y, z };
</code></pre>
<h3><a class="header" href="#destructuring" id="destructuring">Destructuring</a></h3>
<p>We can extract multiple variables from an object, provided that our variable
names correspond to the properties in the object:</p>
<pre><code class="language-js">let coords = { x: 2, y: 3, z: 4 };
let { x, y, z } = coords;

console.log(x); // 2
console.log(y); // 3
console.log(z); // 4
</code></pre>
<h2><a class="header" href="#converting-to-json" id="converting-to-json">Converting to JSON</a></h2>
<p>An object can be <em>serialized</em> (converted) into JSON with a simple function:</p>
<pre><code class="language-js">let json = JSON.stringify(object);
</code></pre>
<p>The function returns a string representation of the specified object, which is
entirely safe to pass over the network.</p>
<p>To convert it back to an object, we simply call its inverse:</p>
<pre><code class="language-js">let obj = JSON.parse(json);
</code></pre>
<p>Note, however, that not all objects can be safely converted to JSON:</p>
<ul>
<li><em>Circular references</em> (objects that refer to themselves) will cause an error
during <code>JSON.stringify</code>.</li>
<li>All methods are lost, and classes lose their type when stringified.</li>
<li>Multiple properties that refer to the same object will now refer to different
objects with identical properties.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="modules.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="functional-programming.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="modules.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="functional-programming.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        
        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-105339892-2', 'auto');
                ga('send', 'pageview');
            }
        </script>
        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
