<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Babel - UAV Austin Node.js Guide</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="getting-started/index.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="getting-started/installation.html"><strong aria-hidden="true">2.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="getting-started/hello-world.html"><strong aria-hidden="true">2.2.</strong> Hello World</a></li><li class="chapter-item expanded "><a href="getting-started/resources.html"><strong aria-hidden="true">2.3.</strong> Resources</a></li></ol></li><li class="chapter-item expanded "><a href="the-basics/index.html"><strong aria-hidden="true">3.</strong> The Basics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the-basics/comments.html"><strong aria-hidden="true">3.1.</strong> Comments</a></li><li class="chapter-item expanded "><a href="the-basics/data-types-and-variables.html"><strong aria-hidden="true">3.2.</strong> Data Types and Variables</a></li><li class="chapter-item expanded "><a href="the-basics/operators.html"><strong aria-hidden="true">3.3.</strong> Operators</a></li><li class="chapter-item expanded "><a href="the-basics/control-flow.html"><strong aria-hidden="true">3.4.</strong> Control Flow</a></li><li class="chapter-item expanded "><a href="the-basics/functions.html"><strong aria-hidden="true">3.5.</strong> Functions</a></li></ol></li><li class="chapter-item expanded "><a href="modules.html"><strong aria-hidden="true">4.</strong> Modules</a></li><li class="chapter-item expanded "><a href="objects-and-classes.html"><strong aria-hidden="true">5.</strong> Objects and Classes</a></li><li class="chapter-item expanded "><a href="functional-programming.html"><strong aria-hidden="true">6.</strong> Functional Programming</a></li><li class="chapter-item expanded "><a href="async-patterns/index.html"><strong aria-hidden="true">7.</strong> Async Patterns</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="async-patterns/callbacks.html"><strong aria-hidden="true">7.1.</strong> Callbacks</a></li><li class="chapter-item expanded "><a href="async-patterns/promises.html"><strong aria-hidden="true">7.2.</strong> Promises</a></li><li class="chapter-item expanded "><a href="async-patterns/async-await.html"><strong aria-hidden="true">7.3.</strong> Async/Await</a></li><li class="chapter-item expanded "><a href="async-patterns/event-emitters.html"><strong aria-hidden="true">7.4.</strong> Event Emitters</a></li></ol></li><li class="chapter-item expanded "><a href="npm.html"><strong aria-hidden="true">8.</strong> NPM</a></li><li class="chapter-item expanded "><a href="babel.html" class="active"><strong aria-hidden="true">9.</strong> Babel</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">UAV Austin Node.js Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#babel" id="babel">Babel</a></h1>
<p><a href="https://babeljs.io">Babel</a> is a JavaScript compiler that can compile more
recent versions of JavaScript to older versions. This allows for features that
are not yet available in some web browers or in Node.js to be used.</p>
<p>This page provides a quick overview of what Babel can let you work with, but
will not dive into how to set it up.</p>
<h2><a class="header" href="#es6-imports" id="es6-imports">ES6 Imports</a></h2>
<p>Node.js itself implements most of the newer JavaScript standards. One feature
that is missing, for example, is ES6-style imports. Node.js uses the
<code>require(...)</code> syntax for requiring modules. ES6 Imports allow for importing
modules using the <code>import</code> syntax.</p>
<p>The following example shows equivalent imports from both styles.</p>
<pre><code class="language-js">// Regular require(...).
const fs = require('fs');

// ES6 Imports.
import fs from 'fs';
</code></pre>
<p>The later is much cleaner and feels much more standard.</p>
<p>ES6 Imports also allow for destructuring:</p>
<pre><code class="language-js">// Regular require(...).
const { readFile } = require('fs');

// ES6 Imports.
import { readFile } from 'fs';
</code></pre>
<p>If you try and use <code>import</code> from your Node.js REPL, you'll notice that it won't
work. This, is where Babel comes in. Note that <code>require(...)</code> will still work
in Node.js code being compiled with Babel.</p>
<p>To see the full syntax of ES6 Imports, see the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">MDN Web Docs <code>import</code> reference</a>.
This shows how to use aliases while importing and how to do more compilated
imports. Note that some of these might be specific to the Web and not Node.js</p>
<h2><a class="header" href="#es6-exports" id="es6-exports">ES6 Exports</a></h2>
<p>The ES6 Import syntax also ships with an exporting syntax as well.</p>
<p>Instead of using <code>export.name = ...</code>, you can directly export a variable,
function, etc. using <code>export</code>.</p>
<pre><code class="language-js">// Regular export.
exports.doAThing = function () { console.log('a thing'); };

// From another module.
const { doAThing } = require('./other-module');

// ES6 Exports.
export function doAThing() { console.log('a thing'); }

// From another module.
import { doAThing } from './other-module';
</code></pre>
<blockquote>
<p><em>Note</em>: No semicolon was provided above since this doesn't require one like
a normal assignent.</p>
</blockquote>
<p>When exporting a function or class as the sole export of a module in Node.js,
you'd do it by setting <code>module.exports</code>. With ES6 Exports, instead, you use
<code>export default</code>.</p>
<pre><code class="language-js">// Regular export.
module.exports = class Example {};

// From another module.
const Example = require('./other-module');

// ES6 Exports.
export default class Example {}

// From another module.
import Example from './other-module';
</code></pre>
<blockquote>
<p><em>Note</em>: Internally, Babel doesn't equate these two exactly. using
<code>export default</code> actually ends up naming the export <code>default</code>. If you were to
<code>require</code> this module, you need to use <code>require('./module-name').default</code> to
get the value instead. There is
<a href="https://github.com/59naga/babel-plugin-add-module-exports">a plugin</a> which
restores this behavior so you can just use <code>require('./module-name')</code>.</p>
</blockquote>
<p>As with <code>require(...)</code>, setting the value of <code>module.exports</code> or the properties
of <code>exports</code> will still work.</p>
<h2><a class="header" href="#upcoming-changes-in-nodejs" id="upcoming-changes-in-nodejs">Upcoming Changes in Node.js</a></h2>
<p>The reason why the <code>import</code> syntax is not yet generally available is because
<code>import</code> is asynchronous while <code>require(...)</code> is synchronous. When you
<code>require</code> a CommonJS module in Node.js, the <code>require(...)</code> function doesn't
return until the module is done loading, however, <code>import</code> does not work as a
function call and can handle asynchronous loading, which is quite useful in
browsers. In browser JavaScript, this allows a website to load before all the
JavaScript has been loaded.</p>
<p>ES6 Modules are
<a href="https://nodejs.org/api/all.html#esm_ecmascript_modules">currently experimental in Node.js</a>
(at the time of writing) and
need a flag to be used on the command-line to be enabled. While you can still
use <code>import</code> to get a standard CommonJS module, <code>require(...)</code> will not work
with ES6 modules. Because of this incompatibility, the current plan in Node.js
is to use a different file extension for ES6 Node.js modules (<code>.mjs</code>). This
will definitely take some getting used to in the future.</p>
<blockquote>
<p>Many people have referenced to <code>.mjs</code> as standing for <em>Michael Jackson
Script</em>, myself included. :)</p>
</blockquote>
<h2><a class="header" href="#configuring-babel" id="configuring-babel">Configuring Babel</a></h2>
<p>Babel is configured through <a href="https://babeljs.io/docs/en/plugins">plugins</a>.
Creating a configuration is out of scope of this guide, however,
<a href="https://github.com/uavaustin/orchestra/tree/master/services/forward-interop/.babelrc">here is an example of a Babel configuration file</a>
and the
<a href="https://github.com/uavaustin/orchestra/tree/master/services/forward-interop/src/service.js">use of ES6 Imports and Exports</a>
within UAV Austin code.</p>
<p>Using Babel requires a build step for a Node.js project.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="npm.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="npm.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
            </nav>

        </div>

        

        
        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-105339892-2', 'auto');
                ga('send', 'pageview');
            }
        </script>
        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
